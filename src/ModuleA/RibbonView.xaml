<UserControl 
    x:Class="ModuleA.RibbonView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:prism="http://prismlibrary.com/"
    xmlns:adapter="clr-namespace:TNRibbonRegionAdapter;assembly=TNRibbonRegionAdapter"
    prism:ViewModelLocator.AutoWireViewModel="True"
    >
    <Ribbon 
        x:Name="MainMenu" 
        x:FieldModifier="protected internal">
        <Ribbon.ApplicationMenu>
            <RibbonApplicationMenu
                x:Name="MainApplicationMenu">
                <RibbonApplicationMenuItem  
                        Header="ModuleA-Stuff"
                        Command="{Binding Path=AppCommandA}"/>
            </RibbonApplicationMenu>
        </Ribbon.ApplicationMenu>

        <RibbonTab 
            Header="ModuleA Tab">

        </RibbonTab>
        <RibbonTab 
            Header="General (to be merged)"
			adapter:UIElementExtension.MergeKey="GeneralTab"
			adapter:UIElementExtension.MergeOrder="10">
            <RibbonGroup 
                Header="Group 1b">
                <RibbonButton 
                    Label="ModuleA_1" 
                    Command="{Binding Command1}" 
                    CommandParameter="{Binding RelativeSource={RelativeSource Self}}" />
            </RibbonGroup>
            <RibbonGroup 
                Header="Group 2"
				adapter:UIElementExtension.MergeKey="GeneralTabGroup2">

                <RibbonButton 
                    Label="ModuleA-2" 
                    adapter:UIElementExtension.MergeOrder="10" 
                    Command="{Binding Command2}" 
                    CommandParameter="{Binding RelativeSource={RelativeSource Self}}" />

            </RibbonGroup>
           
        </RibbonTab>
    </Ribbon>
</UserControl>
